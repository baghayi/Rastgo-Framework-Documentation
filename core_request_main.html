<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>مستندات فریمورک راستگو</title>
  <meta name="description" content="The documentation of the Rastgo Framework" />
  <meta name="author" content="Rastgo Framework" />

  <meta name="viewport" content="width=device-width; initial-scale=1.0" />
  <link href="includes/stylesheet.css" rel="stylesheet" type="text/css" />
  <script src="includes/javascript.js" type="text/javascript"></script>
</head>

<body>
  <div>
    <header>
      <h1 id="title" title='Request.php (برای کنترل URL)'>Request.php (برای کنترل URL)</h1>
    </header>
    
    <nav>
      <h3><a href="index.html">صفحه اصلی</a></h3>
      <h3><a href="library.html">کتابخانه فریمورک</a></h3>
      <h3><a href="core.html">هسته فریمورک</a></h3>
      <h3><a href="others.html">بخش های دیگر</a></h3>
    </nav>

    <section id='content'>
    	<article>
			<p>کار این کلاس Request اینه که URL رو بگیره و آنالیز کنه و مقادیر رو ذخیره کنه که بشه تو بقیه جاها ازش استفاده کرد</p>
			<p>مثلا در URL اولین پارامتر controller رومشخص می کنه و دومیش هم متد موجود در controller رو و سومیش هم پارامتر های متد هست که می گیره و تجزیه و تحیلی می کنه و می ده به ما (قابل استفاده می کنه)</p>
			
			<h4>متدها</h4>
			<p>متد سازنده کلاس، می یاد و دو متد parseQueryString و specifyingControllerMethodArguments رو صدا می زنه.</p>
			<hr />
			
			<p>متد خصوصی parseQueryString() برای دریافت QueryString از URL‌هست و در حقیقت آدرس به شکل زیر رو گرفته و مقدار پارامتر q‌ رو برگشت می ده. و در صورتی که پارامتر q ست نشده باشه، مقدار بازگشتی false خواهد بود.
http://domain.org/?q=controller/method/someArguments</p>
            <hr />
            
            <p>متد خصوصی specifyingControllerMethodArguments هم یک پارامتر قبول می کنه و توسط پارامتر اولش که مقدارش از طریق متد parseQueryString() بهش داده می شه رو دریافت و تجزیه و تحلیل کرده و کنترلر و متد و پرامتر های وارد شده در URL رو تعیین و در پراپرتی های مناسب مربوط به کنترلر و متد و پارامتر قرار می ده. و درصورتی که مقادیری در URL وارد نشده بود که بتونه تجزیه و تحلیل کنه، در نتیجه از مقادیر پیش فرض که برای کنترلر و متد و آرایه خالی برای پارامتر تعیین شده استفاده خواهد کرد.</p>
            <p>اگر کنترلر یا متدی تو URL وارد نشه کلاس مقادیر پیش فرض رو ست می کنه که مقادیر پیش فرض برای کنترولر و متد توسط ثابت های Default_Controller و Default_Method که در فایل config/config.php تعریف شده اند، ست شده اند و البته قابل تغییر هم هستند.</p>
			<hr />
			
			<p>متد بعدی getControllerهست که همنطوری که از اسمش مشخصه می شه ازش برای دریافت کنترولر استفاده کرد</p>
			<hr />
			
			<p>متد بعدی getMethod و کارش دریافت متد مشخص شده در URL هست ( یعنی گرفتن دومین پارامتر در URL)</p>
			<hr />
			
			<p>متد بعدی getArgs هست که پارامتر ها رو می شه ازش گرفت / از سومین پارامتر به بعد در URL هست و بصورت آرایه هستش</p>
			<hr />
			
			<p>متد بعدی setDefaultController هست که بصورت استاتیک هست و برای تغییر کنترولر پیش فرض بکار می ره</p>
			<hr />
			
			<p>متد آخری هم setDefaultMethod هستش و بصورت استاتیک هست و برای تغییر متد پیش فرض استفاده می کنه</p>
			<hr />
			
			<p>متد go که دارای ۴ پارامتر هست برای این تعریف شده که بجای اینکه بصورت دستی وقتی میخواهیم کاربر رو از طریق تابع header به صفحه دیگه ای بفرستیم (صفحه دیگه تو خود فریم ورک) و یا اینکه URL ای رو تولید کنیم (URL ای که مربوط به بخش ای از فریمورم می شه ) و نه سایت های دیگه که برای این کار از این متد go استفاده بشه.</p>
			<p>هدف هم این بوده که در صورتی که از این متد استفاده بشه و در اینصورت در صورتی که نوع لینک رو بصورت rewrite‌شده و یا حالت معمولی که بصورت query string هست تغییر بدیم با یک تغییر flase به true یا برعکس در فایل config.php ، کل لینک های فریمورک هم تغییر کنه که در صورتی که لینک ها بصورت دستی وارد شده باشن این کار به راحتی قابل اینجام نیست.</p>
			<p>منظور از لینک بصورت rewrite شده حالت زیر هست:</p>
			<p class="ltr">http://URL/controller/method/someArguments/</p>
			<p>و منظور از حالت query String بصورت زیر هست (که این به وب سروری خاصی وابسته نیست):</p>
			<p class="ltr">http://URL/?q=controller/method/someArguments/</p>
			<p>پارامتر اول این نام کنترلر رو دریافت می کنه که مقدار پیش فرض null هست و اگه تعیین نشه، کنترلر ای که داخلش هستید رو به عنوان مقدار پیش فرض تعیین می کنه.</p>
			<p>پارامتر دوم نام متد (اکشن) رو دریافت می کنه که مقدار پیش فرض null هست و اگه تعیین نشه، متد ای که داخلش هستید رو به عنوان مقدار پیش فرض تعیین می کنه.</p>
			<p>پارامتر سوم هم پارامتر هایی که بایستی به متد/اکشن ارسال بشن (و تو URL ست می شن) رو تعیین می کنه که یا بصورت رشته هست که پارامتر های یک و دو و ... همه پست سر هم قرار می گیره و با اسلش از هم جدا می شن و یا مقدار آرایه می شه بهش داد که هر المنت از آرایه به ترتیب پارامتر اول و دوم و ... به حساب می یاد. که مقدار پیش فرض null هست و اگه تعیین نشه، آرایه خالی و یا بدون پارامتر براش در نظر گرفته می شه.</p>
			<p>پارامتر چهارم ام که که مقدار پیش فرضش false هست در صورتی که مقدارش رو true بدید بجای اینکه کاربر رو به لینک تعیین شده اسال کنه، لینک ایجاد شده رو برگشت می شده و کاربر رو به صفحه ایجاد شده ارجاع نمی ده.</p>
			
			
			<h4>پروپرتی ها</h4>
			<p>سه تا پروپرتی برای ذخیره کنترولر و متد و پارامتر های URL داره </p>
			<hr />
			
			<p>و دوتا پروپرتی بصورت استاتیک تعریف شده برای دخیره کنترولر و متد پیش فرض (که اگه در URL تعیین نشده باشه از اینا استفاده بشه)</p>
			<hr />
			
			<p>پراپرتی استاتیک enableRewrite هم اینکه URL‌به شکل کاربرپسند (از مد rewrite آپاچی) استفاده کنه یا نه رو به شکل TRUE و FALSE درش ذخیره می شه.
مقدار پیش فرضش FALSE هست و مقدار این پراپرتی توسط ثابت Enable_Rewrite که در فایل config/config.php می یاد و در این پراپرتی ذخیره می شه.</p>
    	</article>
    </section>

    <footer>
     <p>&copy; Copyright  by Rastgo Framework 2011</p>
    </footer>
  </div>
</body>
</html>
